{"version":3,"sources":["Banner.js"],"names":["ELEVATION","DEFAULT_MAX_WIDTH","Banner","arguments","state","position","Animated","Value","props","visible","layout","height","measured","handleLayout","nativeEvent","setState","toggle","show","hide","scale","theme","animation","timing","duration","toValue","useNativeDriver","start","prevProps","icon","children","actions","contentStyle","style","rest","multiply","translateY","add","React","createElement","Surface","styles","container","View","wrapper","onLayout","absolute","transform","opacity","content","Icon","source","size","Text","message","map","i","label","others","Button","key","compact","mode","button","Component","StyleSheet","create","elevation","overflow","alignSelf","width","maxWidth","top","flexDirection","justifyContent","marginHorizontal","marginTop","marginBottom","margin","flex"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet, Animated } from 'react-native';\nimport Surface from './Surface';\nimport Text from './Typography/Text';\nimport Button from './Button';\nimport Icon from './Icon';\nimport { withTheme } from '../core/theming';\nimport shadow from '../styles/shadow';\nconst ELEVATION = 1;\nconst DEFAULT_MAX_WIDTH = 960;\n/**\n * Banner displays a prominent message and related actions.\n *\n * <div class=\"screenshots\">\n *   <img class=\"medium\" src=\"screenshots/banner.gif\" />\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { Image } from 'react-native';\n * import { Banner } from 'react-native-paper';\n *\n * export default class MyComponent extends React.Component {\n *   state = {\n *     visible: true,\n *   };\n *\n *   render() {\n *     return (\n *       <Banner\n *         visible={this.state.visible}\n *         actions={[\n *           {\n *             label: 'Fix it',\n *             onPress: () => this.setState({ visible: false }),\n *           },\n *           {\n *             label: 'Learn more',\n *             onPress: () => this.setState({ visible: false }),\n *           },\n *         ]}\n *         icon={({ size }) =>\n *           <Image\n *             source={{ uri: 'https://avatars3.githubusercontent.com/u/17571969?s=400&v=4' }}\n *             style={{\n *               width: size,\n *               height: size,\n *             }}\n *           />\n *         }\n *       >\n *         There was a problem processing a transaction on your credit card.\n *       </Banner>\n *     );\n *   }\n * }\n * ```\n */\nclass Banner extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            position: new Animated.Value(this.props.visible ? 1 : 0),\n            layout: {\n                height: 0,\n                measured: false,\n            },\n        };\n        this.handleLayout = ({ nativeEvent }) => {\n            const { height } = nativeEvent.layout;\n            this.setState({ layout: { height, measured: true } });\n        };\n        this.toggle = () => {\n            if (this.props.visible) {\n                this.show();\n            }\n            else {\n                this.hide();\n            }\n        };\n        this.show = () => {\n            const { scale } = this.props.theme.animation;\n            Animated.timing(this.state.position, {\n                duration: 250 * scale,\n                toValue: 1,\n                useNativeDriver: false,\n            }).start();\n        };\n        this.hide = () => {\n            const { scale } = this.props.theme.animation;\n            Animated.timing(this.state.position, {\n                duration: 200 * scale,\n                toValue: 0,\n                useNativeDriver: false,\n            }).start();\n        };\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.visible !== this.props.visible) {\n            this.toggle();\n        }\n    }\n    render() {\n        const { visible, icon, children, actions, contentStyle, style, \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        theme, ...rest } = this.props;\n        const { position, layout } = this.state;\n        // The banner animation has 2 parts:\n        // 1. Blank spacer element which animates its height to move the content\n        // 2. Actual banner which animates its translateY\n        // In initial render, we position everything normally and measure the height of the banner\n        // Once we have the height, we apply the height to the spacer and switch the banner to position: absolute\n        // We need this because we need to move the content below as if banner's height was being animated\n        // However we can't animated banner's height directly as it'll also resize the content inside\n        const height = Animated.multiply(position, layout.height);\n        const translateY = Animated.multiply(Animated.add(position, -1), layout.height);\n        return (React.createElement(Surface, Object.assign({}, rest, { style: [styles.container, shadow(ELEVATION), style] }),\n            React.createElement(View, { style: [styles.wrapper, contentStyle] },\n                React.createElement(Animated.View, { style: { height } }),\n                React.createElement(Animated.View, { onLayout: this.handleLayout, style: [\n                        layout.measured || !visible\n                            ? // If we have measured banner's height or it's invisible,\n                                // Position it absolutely, the layout will be taken care of the spacer\n                                [styles.absolute, { transform: [{ translateY }] }]\n                            : // Otherwise position it normally\n                                null,\n                        !layout.measured && !visible\n                            ? // If we haven't measured banner's height yet and it's invisible,\n                                // hide it with opacity: 0 so user doesn't see it\n                                { opacity: 0 }\n                            : null,\n                    ] },\n                    React.createElement(View, { style: styles.content },\n                        icon ? (React.createElement(View, { style: styles.icon },\n                            React.createElement(Icon, { source: icon, size: 40 }))) : null,\n                        React.createElement(Text, { style: styles.message }, children)),\n                    React.createElement(View, { style: styles.actions }, actions.map(({ label, ...others }, i) => (React.createElement(Button, Object.assign({ key: /* eslint-disable-line react/no-array-index-key */ i, compact: true, mode: \"text\", style: styles.button }, others), label))))))));\n    }\n}\nconst styles = StyleSheet.create({\n    container: {\n        elevation: ELEVATION,\n    },\n    wrapper: {\n        overflow: 'hidden',\n        alignSelf: 'center',\n        width: '100%',\n        maxWidth: DEFAULT_MAX_WIDTH,\n    },\n    absolute: {\n        position: 'absolute',\n        top: 0,\n        width: '100%',\n    },\n    content: {\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        marginHorizontal: 8,\n        marginTop: 16,\n        marginBottom: 0,\n    },\n    icon: {\n        margin: 8,\n    },\n    message: {\n        flex: 1,\n        margin: 8,\n    },\n    actions: {\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n        margin: 4,\n    },\n    button: {\n        margin: 4,\n    },\n});\nexport default withTheme(Banner);\n"]}